# 開発規約関連の用語定義

## 設計原則

### SOLID原則
- **単一責任の原則（SRP）**: 各クラスは単一の責任のみを持つ
  - 例: `ClassFileReader`はファイル読み込みのみを担当
  - 例: `ByteCodeVerifier`は検証のみを担当

- **依存関係逆転の原則（DIP）**: 高レベルのモジュールは低レベルのモジュールに依存しない
  - 例: 実行エンジンは抽象化されたメモリ管理インターフェースに依存

- **インターフェース分離の原則（ISP）**: クライアントは使用しないインターフェースに依存しない
  - 例: 命令実行インターフェースの分割

### アーキテクチャ設計
- **レイヤー化**: 責務に基づく層の分離
  - **クラスローディング層**: クラスファイルの読み込みと解析
  - **実行エンジン層**: バイトコード実行の制御
  - **メモリ管理層**: オブジェクトとメモリの管理

- **モジュール化**: 機能の独立したモジュールへの分割
  - **独立デプロイ可能性**: モジュールの独立した開発と展開
  - **カプセル化**: 内部実装の隠蔽

## 開発プロセス

### TDD（テスト駆動開発）
- **Red**: テストを書いて失敗を確認
- **Green**: 最小限の実装でテストを成功
- **Refactor**: コードの品質を改善

### テスト方針
- **ユニットテスト**: 個々のコンポーネントのテスト
  - **命名規則**: `<テスト対象クラス>Test`
  - **メソッド命名**: `test<テスト内容>`

- **統合テスト**: コンポーネント間の連携テスト
  - **範囲**: 複数のモジュールを跨ぐ機能
  - **環境**: 実際の依存関係を使用

- **パフォーマンステスト**: 性能要件の検証
  - **実行時間**: 処理にかかる時間
  - **メモリ使用量**: 使用されるメモリ量
  - **GC頻度**: ガベージコレクションの発生頻度

### コード品質
- **コードカバレッジ**: テストによってカバーされるコードの割合
  - **行カバレッジ**: 実行された行数の割合
  - **分岐カバレッジ**: テストされた分岐の割合
  - **要件**: 80%以上のカバレッジ

- **スタイルチェック**: コーディング規約への準拠
  - **命名規則**: クラス、メソッド、変数の命名規則
  - **フォーマット**: インデント、空白、改行の規則
  - **ツール**: CheckStyle, SpotBugs, PMD

## 実装規約

### パッケージ構造
```
javavm/
  ├── classfile/    # クラスファイル関連
  ├── execution/    # 実行エンジン関連
  ├── memory/       # メモリ管理関連
  └── util/         # ユーティリティ
```

### コーディング規約
- **クラス命名**: UpperCamelCase
- **メソッド命名**: lowerCamelCase
- **定数命名**: UPPER_SNAKE_CASE

### コメント規約
- **Javadoc**: クラスとpublicメソッドに必須
  ```java
  /**
   * <概要>
   * 
   * @param  <パラメータ名> <説明>
   * @return <戻り値の説明>
   * @throws <例外> <例外発生条件>
   */
  ```

- **実装コメント**: 複雑なロジックの説明
  ```java
  // TODO: 実装すべき機能
  // FIXME: 既知の問題
  // NOTE: 実装上の注意点
  ```

### バージョン管理
- **コミットメッセージ**: 
  ```
  <種類>: <簡潔な説明>

  <詳細な説明>
  ```
  - 種類: feat, fix, docs, style, refactor, test, chore

- **ブランチ戦略**:
  - `main`: 安定版
  - `develop`: 開発版
  - `feature/*`: 機能実装
  - `bugfix/*`: バグ修正

## 品質基準
- **テストカバレッジ**: 80%以上
- **ビルド成功**: すべてのテストが成功
- **パフォーマンス**: 
  - 命令実行: 1命令あたり1μs以内
  - GC停止時間: 100ms以内
- **メモリ使用**: 
  - 基本実行時: 64MB以内
  - 最大使用時: 256MB以内